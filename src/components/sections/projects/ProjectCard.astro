---
import Button from "@/components/ui/Button.astro";
import Divider from "@/components/ui/Divider.astro";
import SpotlightCard from "@/components/ui/SpotlightCard.astro";
import Technologies from "@/components/ui/Technologies.astro";
import Text from "@/components/ui/Text.astro";
import { formatDate } from "@/utils/date";
import type { CollectionEntry } from "astro:content";

type collectionData = CollectionEntry<"projects">["data"];

const { data } = Astro.props as { data: collectionData };
---

<SpotlightCard>
  <Text as="p" class="mt-0 text-sm pb-2">
    {formatDate(data.date)}
  </Text>
  <Text as="h3" variant="lead">
    {data.title}
  </Text>
  <Text as="p" variant="paragraph">
    {data.description}
  </Text>
  <div class="flex mt-4">
    {
      data.links.map((link: collectionData["links"][0]) => (
        <Button
          as="a"
          variant="link"
          href={link?.url}
          target="_blank"
          rel="noopener noreferrer"
          class="px-0 mr-4"
        >
          {link?.linkType === "source-code" ? "Source Code" : "Live View"}
        </Button>
      ))
    }
  </div>
  <Divider />
  <Technologies data={data.technologies} class="mt-4" />
</SpotlightCard>
