---
import "../styles/global.css";
import "@fontsource-variable/inter";
import Header from "@/components/sections/Header.astro";
import Hero from "@/components/sections/Hero.astro";
import Container from "@/components/ui/Container.astro";
import About from "@/components/sections/About.astro";
import Experience from "@/components/sections/Experience.astro";
import Projects from "@/components/sections/projects/index.astro";
---

<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>lucasc.dev</title>
  </head>
  <body class="group font-sans bg-background text-foreground group antialiased">
    <Header />
    <main>
      <Container>
        <Hero />
        <About />
        <Experience />
        <Projects />
      </Container>
    </main>
  </body>
</html>

<script>
  const body: HTMLElement | null = document.querySelector("body");
  const header: HTMLElement | null = document.querySelector("#header");
  const dividers: NodeListOf<HTMLElement> =
    document.querySelectorAll(".divider");
  const cards: NodeListOf<HTMLElement> = document.querySelectorAll(".card");

  if (header) {
    const headerHeight = header.offsetHeight;
    document.documentElement.style.setProperty(
      "--header-height",
      headerHeight + "px",
    );
  }

  if (body) {
    body.addEventListener("mousemove", function (e: MouseEvent) {
      dividers.forEach((div) => {
        const rect: DOMRect = div.getBoundingClientRect();
        const x: number = e.clientX - rect.left;
        const y: number = e.clientY - rect.top;

        div.style.setProperty("--xPos", `${x}px`);
        div.style.setProperty("--yPos", `${y}px`);
      });

      cards.forEach((div) => {
        const rect: DOMRect = div.getBoundingClientRect();
        const x: number = e.clientX - rect.left;
        const y: number = e.clientY - rect.top;

        div.style.setProperty("--xPos", `${x}px`);
        div.style.setProperty("--yPos", `${y}px`);
      });
    });
  }
</script>
